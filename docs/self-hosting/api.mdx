---
title: API Endpoints
description: Complete API reference for OmniLens endpoints
---

## API Requirements

- GitHub Personal Access Token with `repo` scope
- Repository must have GitHub Actions enabled
- Token must have access to the specified repository
- PostgreSQL database for data persistence


## Repository Management

- `GET /api/repo` - List all repositories for authenticated user
- `POST /api/repo/add` - Add a new repository to dashboard
- `POST /api/repo/validate` - Validate repository access and workflows
- `GET /api/repo/[slug]` - Get specific repository details
- `DELETE /api/repo/[slug]` - Remove repository from dashboard

## Workflow Data

- `GET /api/workflow/[slug]` - Get workflows for repository (no date = list workflows)
- `GET /api/workflow/[slug]?date=YYYY-MM-DD` - Get workflow runs for specific date
- `GET /api/workflow/[slug]/overview` - Get daily metrics overview with statistics
- `GET /api/workflow/[slug]/overview?date=YYYY-MM-DD` - Get overview for specific date
- `GET /api/workflow/[slug]/exists` - Check if workflows exist in database

## Authentication

- `GET /api/auth/[...auth]` - Authentication endpoints (login, logout, session management)
- `POST /api/auth/[...auth]` - Authentication actions (login, logout, session refresh)

## Admin Management

> Requires authentication

- `GET /api/admin/user-ids` - Get all user IDs in the system
- `GET /api/admin/users` - Get all users
- `GET /api/admin/users?userId=id` - Get specific user information
- `GET /api/admin/users?includeStats=true` - Get users with repository and workflow counts

## Health & Monitoring

- `GET /api/health` - System health check endpoint
